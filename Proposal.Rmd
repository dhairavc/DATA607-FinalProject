---
title: "DATA607 - Final Project Proposal"
author: "Mael Illien, Salma Elshahawy, Dhairav Chhatbar"
date: "11/11/2019"
output:
  html_document:
  highlight: pygments
  theme: cerulean
  toc: yes
  toc_float: yes
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Motivation

We want to try and answer the general question: What happens when there is a spike in arrests by the NYPD?

We will start with the NYPD Arrests Data (Historic) data from NYC Open Data and conduct some exploratory data analysis to find out how arrests are distributed in general. We will explore trends like for example investigating seasonality trends or trends in particular kinds of arrest or by boroughs.

To dig into the research question further, we will include data from the Civilian Complaint Review Board. We will look at the number and types of complaints received and see if there is any link to the number of arrests by the NYPD during the period of study. 

[Optional] We will then supplement our study with sentiment analysis based on data extracted via the Twitter API. We will search for NYPD related tweets for the study period of interest (specify years) and perform sentiment analysis in order to score the tweets and match them against the number of arrests.

Overall, amongst the exploratory analysis we hope to answer what happens when there is a spike in arrests by the NYPD, is general sementement impacted by the arrests? We provide some analysis around this by the following hypothesis test:

\[H0: There\;is\;no\; change\;in \; public\; senetement \; following \; NYPD \; arrests\]
\[HA: There\; is\; a\; change\; in \; public \; sentement \; following \; NYPD \; arrests\]

## Datasets
Our analysis will be around 3 datasets

#### NYPD Arrests 
List of every arrest in NYC going back to 2006. Each record represents an arrest effected in NYC by the NYPD and includes information about the type of crime, suspect demographic, the location and time of enforcement.

[NYPD Arrests Data Historic](https://data.cityofnewyork.us/Public-Safety/NYPD-Arrests-Data-Historic-/8h9b-rp9u)  


#### Civilian Complaint Review Board (CCRB)
List of complaints against New York City police officers alleging the use of excessive or unnecessary force, abuse of authority, discourtesy, or the use of offensive language.

[Civilian Complaint Review Board (CCRB) - Complaints Received](https://data.cityofnewyork.us/Public-Safety/Civilian-Complaint-Review-Board-CCRB-Complaints-Re/63nx-cpi9)  

We will access it with via the Socrata API:

```{r}
## install.packages("RSocrata")
library("RSocrata")

app_token <- "Fm6ShrlqYtvnNx0IB9N0EyrfT"

ccrb <- read.socrata("https://data.cityofnewyork.us/resource/uip8-fykc.json", app_token = app_token)
```

```{r}
library(kableExtra)
showtable <- function(data, title, nrows) {
  kable(head(data, nrows), caption = title) %>%
  kable_styling(bootstrap_options = c("striped", "hover", "condensed"), latex_options = "scale_down")
}
```

```{r echo=TRUE}
showtable(ccrb, "CCRB Data", 10)
```


#### Twitter 
Pending...

## Exploratory Data Analysis

We will look at:
- Trends in seasonality of arrests
- Trends in types of arrests
- Trends in location of arrests
- Geographical distribution of arrests in NYC
- Trends in types of complaints
- Trends in reporting method of complaints

## Data Transformation

Our two datasets share two main variables: arrest date and borough of incident. The date variable differs slightly between datasets. The NYPD Data is in the MM/DD/YYYY format and ranges from 01/01/2006 to 12/31/2018. The CCRB data only provides the year in the YYYY format ranging from 2000 to 2017. We will need to split the date variable in order join the datasets on the year.

In order to combine data from the two sources, we will need aggregate the variables by year for ease of comparison. 

## Data Analysis

We will try to build a model to predit crime rates and predict the subsequent effect of compliants filed against the NYPD. We will model this prediction using linear regression, etc. 

